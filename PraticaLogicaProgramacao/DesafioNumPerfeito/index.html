<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Número perfeito</title>
</head>
<body>
    <h1>Verifique se um número é perfeito!</h1>
    <p>Um número é perfeito quando é igual à soma de seus divisores (exceto ele mesmo). <br>
    Exemplo: 28 -> 1 + 2 + 4 + 7 + 14 = 28</p>
    <input type="number" id="inputValor">
    <button id="verificar">Verificar</button>
    <p id="res"></p>

    <script>
        const inputValor = document.getElementById("inputValor");
        const btnVerificar = document.getElementById("verificar");
        const pRes = document.getElementById("res");

        btnVerificar.addEventListener("click", () => {
            if(inputValor.value == ''){
                pRes.innerHTML = "Digite um valor válido!";
            }else {
                let num = Number(inputValor.value);
                numPerfeito(num);
                inputValor.value = '';
                inputValor.focus();
            }
        })

        //Lógica
        const numPerfeito = (num) => {
            let soma = 0; // Variável que armazena a soma dos divisores

            // Percorre até ser menor que o número
            for(let n = 1; n < num; n++){
                if(num % n == 0){// Divide "num" por cada número que o "n" percorre
                    soma += n; // Se a divisão tiver o resto "0", atribui e soma á veriável "soma"
                    console.log(soma);
                }
            }

            // Verificando se o valor atribuido e somado é igual ao valor de "num"
            if(soma == num){
                pRes.innerHTML = `O número ${num} é perfeito`;// Se for, é perfeito
            }else {
                pRes.innerHTML = `O número ${num} não é perfeito`; // Se não, não é perfeito
            }
        }
    </script>
</body>
</html>